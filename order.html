<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù† - ØºØ³ÙŠÙ„ Ø§Ù„Ø³Ø¬Ø§Ø¯</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

</head>

<body>

<header>
 <div class="logo">
    <a href="index.html"><img  src="station2-01.svg" alt=" Ø§Ù„Ù…Ø­Ø·Ø© Ø§Ù„Ø§ÙˆØªÙˆÙ…Ø§ØªÙŠÙƒÙŠØ©" /></a>
  </div>
  <div class="menu-toggle" id="menuToggle">â˜°</div>
  <nav>
    <ul id="navList">
      <li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
      <li><a href="service.html">Ø§Ù„Ø®Ø¯Ù…Ø§Øª</a></li>
      <li><a href="order.html">Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†</a></li>
      <li><a href="folwordr.html">Ù…ØªØ§Ø¨Ø¹Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨</a></li>
      <li><a href="#">Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª</a></li>
      <li><a href="https://wa.me/9647832460670?text=Ù…Ø±Ø­Ø¨Ø§ØŒ%20Ø£Ø±ØºØ¨%20Ø¨Ù…Ø¹Ø±ÙØ©%20ØªÙØ§ØµÙŠÙ„%20Ø§Ù„Ø®Ø¯Ù…Ø§Øª" target="_blank" class="action-button whatsapp">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a></li>
    </ul>
  </nav>
</header>


 <main class="booking-container">
  <h1>Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†</h1>

  <!-- Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø² ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
<!-- <div id="orderNumberDisplay" style="font-size: 1.1rem; font-weight: bold; color: green; margin-bottom: 15px;">
  Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø² Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ: Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...
</div> -->

<form id="bookingForm" class="booking-form">
  <!-- <label for="orderNumber">Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø²:</label>
<input type="text" id="orderNumber" name="orderNumber" readonly style="background-color:#eee; font-weight:bold;"> -->
  <label for="name">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„:</label>
  <input type="text" id="name" name="name" required>

  <label for="phone">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</label>
  <input type="tel" id="phone" name="phone" required>

<!-- Ø²Ø± ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ -->
<!-- <button type="button" onclick="getLocation()" style="margin-top: 5px;" id="locateBtn">ğŸ“ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ÙŠ</button> -->

<!-- Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª -->
 <label for="" style="color: #d80a0a;">Ù…Ù† ÙØ¶Ù„Ùƒ Ù…Ù…Ø± Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹ Ù…Ù†Ø²Ù„Ùƒ Ø«Ù… Ù‚Ù… Ø¨Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„ÙŠÙ‡ </label>
<div id="coords" style="margin: 0 0; font-size: 0.9rem; color: green;"></div>

<!-- Ø®Ø±ÙŠØ·Ø© -->
<div id="map" style="height: 300px; margin-bottom: 10px;"></div>
<label for="address">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ§Ù…Ù„: (Ø¨Ø¹Ø¯ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø¶Ø§ÙØ© ÙˆØµÙ Ù„Ø¹Ù†ÙˆØ§Ù†Ùƒ Ù…Ø«Ù„ Ø¯Ù„Ø§Ù„Ø© ÙØ±Ø¹ÙŠØ© Ø§Ùˆ Ù„ÙˆÙ† Ø§Ù„Ø¨Ø§Ø¨...Ø§Ù„Ø®)</label>
<textarea class="txt-full-width" id="address" name="address" rows="2" required></textarea>


  <label for="carpetMainType">Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¬Ø§Ø¯:</label>
  <select id="carpetMainType" name="carpetMainType" required>
    <option value="">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¬Ø§Ø¯</option>
    <option value="Ø¹Ø§Ø¯ÙŠ">Ø¹Ø§Ø¯ÙŠ</option>
    <option value="Ø«Ø±ÙŠ Ø¯ÙŠ">Ø«Ø±ÙŠ Ø¯ÙŠ</option>
    <option value="ÙƒØ§Ø±Ø¨Øª">ÙƒØ§Ø±Ø¨Øª</option>
  </select>

  <select id="carpetWeightType" name="carpetWeightType" required>
    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù†ÙˆØ¹</option>
    <option value="Ø®ÙÙŠÙ">Ø®ÙÙŠÙ</option>
    <option value="ÙˆØ³Ø·">ÙˆØ³Ø·</option>
    <option value="Ø«Ù‚ÙŠÙ„">Ø«Ù‚ÙŠÙ„</option>
  </select>

  <label for="size">Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø¨Ø§Ù„Ù…ØªØ± Ø§Ù„Ù…Ø±Ø¨Ø¹:</label>
  <small style="display: block; color: #666; font-size: 0.85rem; margin-bottom: 5px;">
    ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø£Ù…ØªØ§Ø± (ÙƒÙ„ Ù‚Ø·Ø¹Ø© ØªØ¶Ø±Ø¨ Ø§Ù„Ø·ÙˆÙ„ Ã— Ø§Ù„Ø¹Ø±Ø¶) ÙˆØªÙƒØªØ¨ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø£Ù…ØªØ§Ø±.<br>
    Ù†Ø­Ù† Ù†Ù‚ÙˆÙ… Ø¨Ù‚ÙŠØ§Ø³ Ø§Ù„Ø³Ø¬Ø§Ø¯ Ø¨Ø¹Ø¯ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØºØ³ÙŠÙ„ ÙˆÙ‚Ø¯ ÙŠØµØ¨Ø­ Ø§Ù„Ù…Ø¨Ù„Øº Ø£Ù‚Ù„ Ø£Ùˆ Ø£ÙƒØ«Ø± Ø­Ø³Ø¨ Ø§Ù„Ù‚ÙŠØ§Ø³ Ø§Ù„ÙØ¹Ù„ÙŠ.
  </small>
  <input type="number" id="size" name="size" placeholder="Ù…Ø«Ø§Ù„: 12" required>

  <label for="estimatedPrice">Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ (Ø¯.Ø¹):</label>
  <input type="text" id="estimatedPrice" name="estimatedPrice" readonly placeholder="Ø³ÙŠØ¸Ù‡Ø± Ø§Ù„Ø³Ø¹Ø± Ù‡Ù†Ø§">

  <label for="date">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…:</label>
  <input type="date" id="date" name="date" required>

  <label for="time">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØ¶Ù„:</label>
  <input type="time" id="time" name="time" required>

  <button type="button" class="submit-btn" onclick="sendBookingToGoogleSheet()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø­Ø¬Ø²</button>
</form>

<!-- Ø³ÙƒØ±Ø¨Øª Ø¬Ù„Ø¨ Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø² + Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
<script>
let currentOrderNumber = ""; // Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø² Ø§Ù„Ø­Ø§Ù„ÙŠ

// ØªØ­Ù…ÙŠÙ„ Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø² Ù…Ù† Google Apps Script
function loadOrderNumber() {
  fetch("https://script.google.com/macros/s/AKfycbzIppstvyhiHMw6_C0APM7SS6BLQ4_DbEdc2Zj6PehXsYkZ6japKXPLJRtlxXdbBvN5dQ/exec")
    .then(res => res.json())
    .then(data => {
      currentOrderNumber = data.nextOrderNumber || "ORD-1001";
      document.getElementById("orderNumber").value = currentOrderNumber;
    })
    .catch(err => {
      console.error("ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø²:", err);
      document.getElementById("orderNumber").value = "Ø®Ø·Ø£";
    });
}

window.onload = loadOrderNumber;

function sendBookingToGoogleSheet() {
  const name = document.getElementById("name").value.trim();
  const phone = document.getElementById("phone").value.trim();
  const address = document.getElementById("address").value.trim();
  const carpetMainType = document.getElementById("carpetMainType").value;
  const carpetWeightType = document.getElementById("carpetWeightType").value;
  const size = document.getElementById("size").value.trim();
  const estimatedPrice = document.getElementById("estimatedPrice").value;
  const date = document.getElementById("date").value;
  const time = document.getElementById("time").value;

  if (!name || !phone || !address || !carpetMainType || !carpetWeightType || !size || !date || !time) {
    alert("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„.");
    return;
  }

  const data = {
    name,
    phone,
    address,
    carpetMainType,
    carpetWeightType,
    size,
    estimatedPrice,
    date,
    time
  };

  fetch("https://script.google.com/macros/s/AKfycbzIppstvyhiHMw6_C0APM7SS6BLQ4_DbEdc2Zj6PehXsYkZ6japKXPLJRtlxXdbBvN5dQ/exec", {
    method: "POST",
    mode: "no-cors",
    headers: {
      "Content-Type": "application/json",
    },
    body: JSON.stringify(data)
  })
  .then(() => {
    alert(`âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø­Ø¬Ø² Ø¨Ù†Ø¬Ø§Ø­!\nØ³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨.`);
    openWhatsAppChat({ ...data, orderNumber: currentOrderNumber });
    document.getElementById("bookingForm").reset(); // ØªÙØ±ÙŠØº Ø§Ù„Ø­Ù‚ÙˆÙ„
    loadOrderNumber(); // ØªØ­Ø¯ÙŠØ« Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø² Ø§Ù„ØªØ§Ù„ÙŠ
  })
  .catch((error) => {
    alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø­Ø¬Ø². Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.");
    console.error(error);
  });
}

function openWhatsAppChat(data) {
  const message =
    `ğŸ§¼ Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯ Ù„Ø®Ø¯Ù…Ø© ØºØ³ÙŠÙ„ Ø§Ù„Ø³Ø¬Ø§Ø¯:\n\n` +
    // `ğŸ”¢ Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø²: ${data.orderNumber}\n` +
    `ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${data.name}\n` +
    `ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${data.phone}\n` +
    `ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${data.address}\n` +
    `ğŸ§º Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¬Ø§Ø¯: ${data.carpetMainType} - ${data.carpetWeightType}\n` +
    `ğŸ“ Ø§Ù„Ù…Ø³Ø§Ø­Ø©: ${data.size} Ù…ØªØ± Ù…Ø±Ø¨Ø¹\n` +
    `ğŸ’° Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ: ${data.estimatedPrice}\n` +
    `ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: ${data.date}\n` +
    `â° Ø§Ù„ÙˆÙ‚Øª: ${data.time}`;

  const encodedMsg = encodeURIComponent(message);
  const whatsappLink = `https://wa.me/9647832460670?text=${encodedMsg}`;
  window.open(whatsappLink, "_blank");
}
</script>









  <!-- Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø© -->
  <script>
  // Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ© (Ù†Ø¬Ù Ù…Ø«Ù„Ø§Ù‹)
  const initialLat = 32.0003;
  const initialLng = 44.3592;

  const map = L.map('map').setView([initialLat, initialLng], 14);

  // Ø®Ø±ÙŠØ·Ø© Ù…ÙØªÙˆØ­Ø© Ø§Ù„Ù…ØµØ¯Ø± Ù…Ø¬Ø§Ù†ÙŠØ©
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: 'Â© OpenStreetMap contributors'
  }).addTo(map);

  // Ù…Ø§Ø±ÙƒØ± Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù†Ù‚Ø·Ø©
  let marker = L.marker([initialLat, initialLng], { draggable: true }).addTo(map);

  // Ø£ÙˆÙ„ Ù…Ø§ ÙŠØªØ­Ø±Ùƒ Ø§Ù„Ù…Ø§Ø±ÙƒØ± Ø£Ùˆ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø©
  function updateAddress(lat, lng) {
    const locationLink = `https://www.google.com/maps?q=${lat},${lng}`;
    document.getElementById('address').value = `ğŸ“ Ù…ÙˆÙ‚Ø¹ÙŠ: ${locationLink}`;
  }

  // Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø©
  map.on('click', function(e) {
    const { lat, lng } = e.latlng;
    marker.setLatLng([lat, lng]);
    updateAddress(lat, lng);
  });

  // Ø³Ø­Ø¨ Ø§Ù„Ù…Ø§Ø±ÙƒØ±
  marker.on('dragend', function(e) {
    const { lat, lng } = e.target.getLatLng();
    updateAddress(lat, lng);
  });

  // Ù…Ù„Ø§Ø­Ø¸Ø©: Ù…Ù…ÙƒÙ† Ù‡Ù†Ø§ ØªØ¶ÙŠÙ Ø²Ø± "ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ÙŠ" ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ GPS Ø¥Ù† ØªØ­Ø¨
</script>

  <!--   Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ù‚ÙŠØ§Ø³  -->

<script>
  const carpetType = document.getElementById("carpetWeightType");
  const sizeInput = document.getElementById("size");
  const priceField = document.getElementById("estimatedPrice");

  // Ù†Ø¶ÙŠÙ Ø¹Ù†ØµØ± Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø¨Ø´ÙƒÙ„ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
  const note = document.createElement("p");
  note.style.color = "red";
  note.style.marginTop = "5px";
  note.style.fontSize = "0.9rem";
  sizeInput.parentNode.insertBefore(note, priceField.nextSibling);

  function calculatePrice() {
    const type = carpetType.value;
    const size = parseFloat(sizeInput.value);

    if (!type || isNaN(size) || size <= 0) {
      priceField.value = "";
      note.textContent = "";
      return;
    }

    let pricePerMeter = 0;

    if (type === "Ø®ÙÙŠÙ") {
      pricePerMeter = 1500;
    } else if (type === "ÙˆØ³Ø·" || type === "Ø«Ù‚ÙŠÙ„") {
      pricePerMeter = 2000;
    }

    let estimated = size * pricePerMeter;

    if (estimated < 25000) {
      estimated = 30000;
      note.textContent = "Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø·Ù„Ø¨Ø§Øª Ù‡Ùˆ 30,000 Ø¯.Ø¹";
    } else {
      note.textContent = "";
    }

    priceField.value = estimated.toLocaleString() + " Ø¯.Ø¹";
  }

  carpetType.addEventListener("change", calculatePrice);
  sizeInput.addEventListener("input", calculatePrice);
</script>


<script>
  document.addEventListener("DOMContentLoaded", function() {
    const toggleBtn = document.getElementById('menuToggle');
    const navList = document.getElementById('navList');

    toggleBtn.addEventListener('click', () => {
      navList.classList.toggle('show');
    });
  });
</script>

<script>
  // Ù…Ù†Ø¹ Ø§Ù„ÙƒÙ„Ùƒ Ø§Ù„ÙŠÙ…ÙŠÙ†
  document.addEventListener('contextmenu', function(e) {
    e.preventDefault();
  });

  // Ù…Ù†Ø¹ Ø§Ø®ØªØµØ§Ø±Ø§Øª ÙØ­Øµ Ø§Ù„ÙƒÙˆØ¯ (F12 Ùˆ Ctrl+Shift+I Ùˆ Ctrl+U)
  document.addEventListener('keydown', function(e) {
    if (
      e.key === "F12" ||
      (e.ctrlKey && e.shiftKey && e.key === 'I') ||
      (e.ctrlKey && e.shiftKey && e.key === 'J') ||
      (e.ctrlKey && e.key === 'U')
    ) {
      e.preventDefault();
    }
  });
</script>



</body>
</html>


